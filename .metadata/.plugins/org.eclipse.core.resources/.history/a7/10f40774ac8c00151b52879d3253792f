

import static spark.Spark.get;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.Map;

import spark.ModelAndView;
import spark.TemplateEngine;

public class ClaimsController {
	
	private JsonTransformer jsonTransformer;
	private TemplateEngine templateEngine;

	public ClaimsController(TemplateEngine templateEngine, JsonTransformer json2Transformer) {
		this.templateEngine=templateEngine;
		this.jsonTransformer=jsonTransformer;
        index();
        create();
        count();
	}

	private void index() {
		get("/claims", (request, response) -> {
            return new ModelAndView(null, "views/claims/index.ftl");
        }, templateEngine);
	}

	private void create() {
		get("/claims/select/:count", "application/json", (request, response) -> {
			String countParam = request.params(":count");
			int count=Integer.parseInt(countParam);
            ArrayList<String> claims = new ArrayList<String>();
            claims.add("BALANCED");
            claims.add("SYNERGIES");
            claims.add("MODULAR");
			return claims;
        }, jsonTransformer);
	}

	private void count() {
		get("/claims/count", "application/json", (request, response) -> {
			return 6;
        }, jsonTransformer);
	}

	
}
